<!DOCTYPE html>
<html  lang="en">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.0.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Boomkim</title>


    <meta property="og:type" content="website">
<meta property="og:title" content="Boomkim">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;page&#x2F;2&#x2F;index.html">
<meta property="og:site_name" content="Boomkim">
<meta property="og:locale" content="en">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Boomkim" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;" target="_blank" rel="noopener">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-08-28T15:00:00.000Z">2018-08-29</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/jekyll-theme-swiss/">jekyll theme swiss</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 513 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/08/29/2018-08-29-new-theme-jekyll-swiss/">새로운 테마 적용 - jekyll-swiss</a>
            
        </h1>
        <div class="content">
            <p>새로운 테마를 적용했다.</p>
<p>원래의 계획은 minima 테마를 커스터마이징 하는 것이었지만, </p>
<ol>
<li>디자인에는 재능이 없고 </li>
<li>커스터마이징이 너무 귀찮고</li>
<li>만들어진 테마 중에 딱 필요한게 구현되어있고 디자인도 마음에 드는걸 발견해서 </li>
</ol>
<p>그냥 테마를 적용하기로 했다. </p>
<p>역시 세상은 넓고 이미 만들어 놓은 좋은 것도 많다. 공부하는 차원에서 만들어보려고 했는데, 굳이 jekyll을 깊게 파면서까지 이걸 커스터마이징할 이유가 없었다. 그래도 꾸역꾸역 기능하나정도 추가하는건 어렵지 않을것 같아서, 다른 jekyll 활용 예를 참고하려고 했고 참고하려고 하니 마음에 드는 테마 하나를 발견했다. </p>
<p>이번에 적용한 테마는 <strong><a href="https://github.com/broccolini/swiss" target="_blank" rel="noopener">Swiss</a></strong></p>
<p>이 테마를 적용한 이유는 간단하다.</p>
<ol>
<li>예쁘다 </li>
<li>필요한 기능(카테고리별로 묶어주는 기능)이 깔끔하게 구현되어 있다. </li>
<li>그 외에 잡다한 기능들이 <em>없다.</em> </li>
</ol>
<p>한 마디로 minima 테마에서 카테고리 별로 정리해주는 기능만 딱 하나 추가되고, 디자인이 예쁘게 정리된 <u>내가 찾던 바로 그 테마</u>인 것이다. 그리고 무엇보다도 다른 기능이 없는 게 중요했다. 다른 다양한 기능이 있다고 해도 내가 쓸 생각이 없기 때문에 기능은 최소의 기능만 있는게 좋다. 그래야 관리도 되고 나중에 커스터마이징 할 때도 코드를 보기가 편하다. 블로그 테마가 계속 마음에 걸렸는데 이걸로 일단 한 동안은 유지할 수 있을 것 같다. </p>
<p>테마 적용방법은 <a href="https://jekyllrb.com/docs/themes/" target="_blank" rel="noopener">지킬 홈페이지</a> 와 <a href="https://github.com/broccolini/swiss" target="_blank" rel="noopener">스위스 테마 깃헙</a> 참고. 적용이 매우 간단하다. </p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-08-21T15:00:00.000Z">2018-08-22</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/AWS-EC2-T3/">AWS EC2 T3</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 502 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/08/22/2018-08-22-t3-instance-launch/">[EC2 - T3] T3 인스턴스 출시!!!!!!!</a>
            
        </h1>
        <div class="content">
            <p>대박사건. EC2 인스턴스 타입 중 작은타입을 지원하고, 테스트용, 혹은 작은규모의 로직을 돌리기에 적합하던 t타입의 인스턴스 중 3세대가 나왔다. 이전 세대인 t2 타입은 2014년에 처음 나왔고 2016년에 다양한 사이즈들이 추가됐다. </p>
<p><em>그러니깐, 4년만에 t타입의 새로운 세대가 나온 것.</em></p>
<p>당연히 t2 타입보다 <strong>성능은 올라가고, 가격은 떨어졌다.</strong> 버지니아 기준으로 가격은 10%정도 저렴하다.<br><img src="/images/t2t3-pricing.png" alt="그림1"></p>
<p> <em>아쉽게도 서울리전은 아직 지원이 안됨.</em> </p>
<br>
**사실 cpu 성능보다 더 기대가 되는것은 네트워크 성능.** m4에서 m5로 업그레이드가 됐을 때 cpu 성능도 증가했지만, 기본 네트워크성능이 많이 향상되었다.(관련글: [EC2 인스턴스의 타입별 대역폭을 살펴보자](https://blog.wisen.co.kr/?p=7751))

<p>마찬가지로 t2에서 t3로 업그레이드 되면서 기본 네트워크 성능이 향상될 것으로 보인다. </p>
<p><img src="/images/t2t3-performance.png" alt="그림2"><br><em>(low to moderate -&gt; up to 5 Gigabit)</em> </p>
<br>
이전 t2 인스턴스의 한계라면 cpu 성능이나 불안정성도 한 몫했지만 단순 웹서버로 사용하기에 아쉬웠던 점은 아무래도 네트워크 성능. 작은규모의 웹사이트의 경우 m5.large 정도의 스펙이 불필요하지만 네트워크 성능 때문에 어쩔 수 없이 m5를 선택하기도 했다. 만약 t3에서 네트워크 성능이 일정 기준치 이상으로 향상되었다면 t3 타입은 꽤 매력적인 인스턴스 타입이 될 것 같다. 

<p>정확한 사양은 더 테스트해봐야 알겠지만, 어쨌든 좋은소식임에는 분명하다. </p>
<p>참고: <a href="https://aws.amazon.com/ko/blogs/aws/new-t3-instances-burstable-cost-effective-performance/" target="_blank" rel="noopener">https://aws.amazon.com/ko/blogs/aws/new-t3-instances-burstable-cost-effective-performance/</a></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-08-09T15:00:00.000Z">2018-08-10</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/AWS-EC2-Windows/">AWS EC2 Windows</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 371 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/08/10/2018-08-08-copy-ad-joined-instance/">[EC2 - Windows Server] AD가 join되어 있을 때 인스턴스 복제하기 </a>
            
        </h1>
        <div class="content">
            <p>AWS 상에서 Windows 서버를 복제하는 일은 Linux 서버를 복제하는 것보다 까다롭다. Linux 서버의 경우 ami만 생성하면 되지만, Windows 서버의 경우 ami 생성 후 다시 그 ami를 통해 인스턴스를 실행하면 여러가지 에러를 맞닥트리게 된다. 특히 AD Domain에 접속되어 있는 윈도우즈 서버를 그대로 ami를 떠서 복제한 경우 제대로 인스턴스가 실행되지 않는다. AD에 조인되어 있는 경우 컴퓨터의 sid 등을 통해 도메인의 멤버인지 확인하는데 ami로 복제하게 되면 이런 값들이 중복이 되서 충돌이 생기기 때문이다. <em>이런 경우 Sysprep 이라는 작업을 통해 시스템에 관한 정보를 초기화 한 후 ami를 생성해야한다.</em></p>
<p>대략적인 순서는 다음과 같다.</p>
<ol>
<li>네트워크 설정 초기화 (ip, dns 모두 자동)</li>
<li>sysprep</li>
<li>ami 생성</li>
<li>ami 복제 (선택사항)</li>
<li>해당 ami로 인스턴스 실행 </li>
<li>AD join </li>
</ol>
<p>여기서 주의해야할 것은 sysprep 과정에서 시스템이 초기화된다는 것이다. sysprep은 시스템에 관련된 정보들을 초기화한다. 예를들어 sid, 도메인 정보 등이 초기화된다. </p>
<p><em>따라서 무작정 sysprep을 돌렸다간 해당 인스턴스를 복구 불가능한 상태로 만들수도 있다.</em></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-08-05T15:00:00.000Z">2018-08-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/activedirectory-dns-aws/">activedirectory dns aws</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 651 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/08/06/2018-08-06-active-directory-port-allow/">[ActiveDirectory] DC 구성시 허용해야 하는 포트 </a>
            
        </h1>
        <div class="content">
            <p><a href="http://dianememory.tistory.com/5" target="_blank" rel="noopener">Active Directory</a> 글을 보고 AWS 상에서 AD를 구성하는 것을 테스트해보고 있다. 하지만 이 글은 AWS의 인프라를 기준으로 작성되어 있지 한다. 여기저기 찾아봤으나 aws 상에서 AD를 구성하는 예가 많지 않다. 사실 쉽게 AWS에서 quickstart로 나와있어서 굳이 구성 예제가 필요하지 않았던 것 같다. 그래도 사정상 테스트를 해야했기에… 일단은 부딪혀보기로 했다. </p>
<p>첫번재 AD를 만드는 데에는 아무 문제가 없었으나 두번째 AD를 만드는 과정에서 문제가 생겼다. example.com 으로 도메인을 만들었는데 두번째 윈도우 서버에서 그 도메인을 찾지를 못한다. nslookup으로 질의해보니 dns가 응답하지 않는다. 뭐가 문제인지 모르겠다. tcp 포트도 다 열려있는데… 그래서 그냥 모든 트래픽을 허용해버렸다. 된다. </p>
<p>모든 트래픽을 열어주는건 찜찜해서 dns가 어떤 포트를 쓰는지 궁금해졌다. 뒤져보니 나랑 비슷한 질문을 한 글을 발견했다. (<a href="https://social.technet.microsoft.com/Forums/windows/en-US/955244f1-867a-4f3b-a0a3-321f05982fa0/nslookup-how-to-set-to-tcp-from-udp?forum=win10itpronetworking" target="_blank" rel="noopener">질문: NSLookup, how to set to TCP from UDP?</a>)</p>
<p>결론: <strong>그냥 udp 53 포트를 열어주면 되는 문제</strong>였다… 질문을 열어보면 <strong>dns는 주로 udp 53 포트를 사용하고 512 byte가 넘을때만 tcp를 사용한다</strong>고 친절하고 내공있는 답변이 적혀있다. 세상은 넓고 고수는 많다. 어쨌든 AWS 상에서 수동으로 AD를 구성하고, 이전하는 것 까지 테스트를 해보고 긴 포스트를 올려볼 예정이다. 물론, 예정일 뿐이다. </p>
<p>위키피디아에 <a href="https://en.wikipedia.org/wiki/Domain_Name_System#DNS_Protocol_transport" target="_blank" rel="noopener">DNS 항목</a>에도 다음과 같이 적혀있다. </p>
<blockquote>
<blockquote>
<p>DNS primarily uses the User Datagram Protocol (UDP) on port number 53 to serve requests.[3] DNS queries consist of a single UDP request from the client followed by a single UDP reply from the server. When the length of the answer exceeds 512 bytes and both client and server support EDNS, larger UDP packets are used. Otherwise, the query is sent again using the Transmission Control Protocol (TCP). TCP is also used for tasks such as zone transfers. Some resolver implementations use TCP for all queries.</p>
</blockquote>
</blockquote>
<p>(지금보니 그 고수의 댓글은 위키피디아에서 그냥 퍼온 것…) 그런데, <em>TCP 포트는 몇번 포트로 통신하는거지?</em> 그걸 알아야 여는 포트를 최소화 할수 있는데… </p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-07-26T15:00:00.000Z">2018-07-27</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/docker-network-multihost/">docker network multihost</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 745 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/07/27/2018-07-27-docker-network-overlay/">[docker] multihost networking - overlay</a>
            
        </h1>
        <div class="content">
            <h2 id="도커-multi-host-networking-overlay"><a href="#도커-multi-host-networking-overlay" class="headerlink" title="도커 - multi-host networking: overlay"></a>도커 - multi-host networking: overlay</h2><p>여러 호스트를 이용하는 도커가 swarm을 이룰경우 서로 통신을 하려면 네트웍이 필요하다. 이때 각각 다른 호스트에서 생성된 컨테이너 사이에 네트워크를 생성해주는 것이 바로 overlay 네트워크 이다. </p>
<p><img src="/images/overlay-network.png" alt="그림1"></p>
<p><em>각각의 호스트에서 쓰고있는 네트워크와 상관없이 컨테이너 끼리의 사설망을 따로 만들어줌.</em></p>
<p>예를들어 각각의 호스트 A가 10.0.0.3 B가 10.0.0.5 라는 사설 ip를 사용하고 있을때 overlay network로 전혀 다른 사설대역 192.168.0.0/24를 만들 수 있다. Docker Swarm 을 구성해놓은 상태에서 새로운 서비스를 생성할 때, 네트워크를 미리 만들어 둔 overlay 네트워크를 지정하면 overlay 네트워크를 사용하는 컨테이너가 각각 올라가고 해당 서브넷 내의 ip를 할당받는다. </p>
<p>*<u>이때 주의해야 할 점은 tcp 2377, 7946, udp 7946, 4789 포트가 열려 있어야 한다.</u>*</p>
<p><br><br></p>
<h3 id="overlay-네트워크-생성하고-테스트해보기"><a href="#overlay-네트워크-생성하고-테스트해보기" class="headerlink" title="overlay 네트워크 생성하고 테스트해보기."></a>overlay 네트워크 생성하고 테스트해보기.</h3><p><strong>1.network 생성</strong></p>
<p>네트워크를 생성하고</p>
<p><code>docker network create --driver=overlay --subnet=192.168.0.0/24 mynet</code></p>
<p>네트워크 생성 확인</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">[ec2-user@ip-10-0-0-209 ~]$ docker network ls</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">NETWORK ID          NAME                DRIVER              SCOPE</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">f2fd318ecc13        bridge              bridge              local</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">c9b6d1d75287        docker_gwbridge     bridge              local</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">54c54d828043        host                host                local</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">f400wz9js3cz        ingress             overlay             swarm</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">h919kze0tfxw        mynet               overlay             swarm</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">2e51e048bc49        none                null                local</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#96;&#96;&#96; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">mynet 이 생성되었다. &lt;br&gt;&lt;br&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">**2.service 생성**</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">&#96;docker service create --name overlaytest --network mynet --replicas 3 tutum&#x2F;hello-world &#96; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">tutum에서 제공하는 helloworld 이미지로 테스트 &lt;br&gt;&lt;br&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">**3.네트워크 테스트** </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">master노드에서 ps 실행 및 ip 확인</span></pre></td></tr></table></figure>
<p>[ec2-user@ip-10-0-0-209 ~]$ docker ps<br>CONTAINER ID        IMAGE                      COMMAND                  CREATED             STATUS              PORTS               NAMES<br>3bf7f2ad2f5d        tutum/hello-world:latest   “/bin/sh -c ‘php-fpm…”   10 seconds ago      Up 9 seconds        80/tcp              hello.3.8h6n98b0pgqxmhamhlxz0fpnr<br>[ec2-user@ip-10-0-0-209 ~]$ docker exec -it 3bf7f2ad2f5d sh<br>/ # ifconfig<br>eth0      Link encap:Ethernet  HWaddr 02:42:C0:A8:00:95<br>          inet addr:192.168.0.149  Bcast:192.168.0.255  Mask:255.255.255.0<br>          UP BROADCAST RUNNING MULTICAST  MTU:1450  Metric:1<br>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br>          collisions:0 txqueuelen:0<br>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">worker노드에서 ps 실행 및 ip확인 및 ping</span></pre></td></tr></table></figure>
<p>[ec2-user@ip-10-0-0-31 ~]$ docker ps<br>CONTAINER ID        IMAGE                      COMMAND                  CREATED              STATUS              PORTS               NAMES<br>5eb91ab17651        tutum/hello-world:latest   “/bin/sh -c ‘php-fpm…”   About a minute ago   Up About a minute   80/tcp              hello.2.usgapik37uc3qpd7tiirrsi5u<br>[ec2-user@ip-10-0-0-31 ~]$ docker exec -it 5eb91ab17651 sh<br>/ # ifconfig<br>eth0      Link encap:Ethernet  HWaddr 02:42:C0:A8:00:97<br>          inet addr:192.168.0.151  Bcast:192.168.0.255  Mask:255.255.255.0<br>          UP BROADCAST RUNNING MULTICAST  MTU:1450  Metric:1<br>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br>          collisions:0 txqueuelen:0<br>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0<br>/ # ping 192.168.0.149<br>PING 192.168.0.149 (192.168.0.149): 56 data bytes<br>64 bytes from 192.168.0.149: seq=0 ttl=255 time=0.534 ms<br>64 bytes from 192.168.0.149: seq=1 ttl=255 time=0.528 ms<br>64 bytes from 192.168.0.149: seq=2 ttl=255 time=0.492 ms<br>64 bytes from 192.168.0.149: seq=3 ttl=255 time=0.472 ms<br>64 bytes from 192.168.0.149: seq=4 ttl=255 time=0.497 ms<br>64 bytes from 192.168.0.149: seq=5 ttl=255 time=0.511 ms<br>64 bytes from 192.168.0.149: seq=6 ttl=255 time=0.456 ms<br>64 bytes from 192.168.0.149: seq=7 ttl=255 time=0.517 ms<br>64 bytes from 192.168.0.149: seq=8 ttl=255 time=0.491 ms<br>^C<br>— 192.168.0.149 ping statistics —<br>9 packets transmitted, 9 packets received, 0% packet loss<br>round-trip min/avg/max = 0.456/0.499/0.534 ms<br>/ # </p>
<pre><code>
콘테이너 끼리 사설 대역으로 통신이 되는것을 확인할 수 있다.  &lt;br&gt;&lt;br&gt;


### 참고자료
* 도커 공식 홈페이지 https://docs.docker.com/network/overlay/
* 도커에서 만든 오버레이 네트워킹 데모 https://www.youtube.com/watch?v=nGSNULpHHZc
</code></pre>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-07-26T15:00:00.000Z">2018-07-27</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/docker-network-multihost/">docker network multihost</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 594 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/07/27/2018-07-27-docker-overlay-bandwidth/">[docker] overlay network bandwidth test</a>
            
        </h1>
        <div class="content">
            <p>앞의 포스트에 이어 overlay network를 테스트해보다가 bandwidth가 궁금해졌다. 아무래도 네트워크 레이어를 하나 더 만드는 것이니 네트워크 성능이 노드들 끼리의 통신보다는 안 좋을 것이라 예상됐다. 찾아보니 예전 docker에서는 많게는 50% 정도까지 성능저하가 있었던 것 같다. </p>
<p>테스트 환경: AWS EC2 t2.medium &lt;-&gt; t2.small</p>
<p>테스트 방법: iperf3 을 사용했다. </p>
<p>테스트 내용 </p>
<ol>
<li>ec2끼리 대역폭 테스트 </li>
</ol>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">[ec2-user@ip-10-0-0-31 ~]$ iperf3 -c 10.0.0.209 -t 30</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">Connecting to host 10.0.0.209, port 5201</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">[  4] local 10.0.0.31 port 56086 connected to 10.0.0.209 port 5201</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">[  4]   0.00-1.00   sec  83.7 MBytes   702 Mbits&#x2F;sec    0    362 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">[  4]   1.00-2.00   sec  75.9 MBytes   636 Mbits&#x2F;sec    0    362 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">[  4]   2.00-3.00   sec  87.3 MBytes   732 Mbits&#x2F;sec   43    659 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">[  4]   3.00-4.00   sec  88.1 MBytes   739 Mbits&#x2F;sec    0    659 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">[  4]   4.00-5.00   sec  87.5 MBytes   734 Mbits&#x2F;sec   60    560 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">[  4]   5.00-6.00   sec  93.5 MBytes   784 Mbits&#x2F;sec    0    560 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">[  4]   6.00-7.00   sec  92.5 MBytes   776 Mbits&#x2F;sec    0    560 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">[  4]   7.00-8.00   sec  93.0 MBytes   780 Mbits&#x2F;sec    0    560 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">[  4]   8.00-9.00   sec  89.6 MBytes   752 Mbits&#x2F;sec    0    560 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">[  4]   9.00-10.00  sec  90.3 MBytes   757 Mbits&#x2F;sec    0    720 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">[  4]  10.00-11.00  sec  90.7 MBytes   761 Mbits&#x2F;sec    0    720 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">[  4]  11.00-12.00  sec  91.3 MBytes   766 Mbits&#x2F;sec    0    720 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">[  4]  12.00-13.00  sec  95.1 MBytes   798 Mbits&#x2F;sec    0    720 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">[  4]  13.00-14.00  sec  90.6 MBytes   760 Mbits&#x2F;sec    0    720 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">[  4]  14.00-15.00  sec  91.2 MBytes   765 Mbits&#x2F;sec    0    720 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">[  4]  15.00-16.00  sec  90.0 MBytes   755 Mbits&#x2F;sec    0    720 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">[  4]  16.00-17.00  sec  92.3 MBytes   774 Mbits&#x2F;sec    0    775 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">[  4]  17.00-18.00  sec  94.1 MBytes   789 Mbits&#x2F;sec   87    624 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">[  4]  18.00-19.00  sec  91.2 MBytes   765 Mbits&#x2F;sec    0    675 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">[  4]  19.00-20.00  sec  91.9 MBytes   771 Mbits&#x2F;sec    0    732 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">[  4]  20.00-21.00  sec  91.3 MBytes   766 Mbits&#x2F;sec    0    732 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">[  4]  21.00-22.00  sec  88.5 MBytes   742 Mbits&#x2F;sec    0    732 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">[  4]  22.00-23.00  sec  89.9 MBytes   754 Mbits&#x2F;sec    0    732 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">[  4]  23.00-24.00  sec  85.9 MBytes   720 Mbits&#x2F;sec    0    732 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">[  4]  24.00-25.00  sec  92.6 MBytes   777 Mbits&#x2F;sec    0    732 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">[  4]  25.00-26.00  sec  92.6 MBytes   777 Mbits&#x2F;sec    0    732 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">[  4]  26.00-27.00  sec  90.9 MBytes   762 Mbits&#x2F;sec   65    585 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">[  4]  27.00-28.00  sec  89.0 MBytes   747 Mbits&#x2F;sec    0    585 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">[  4]  28.00-29.00  sec  90.0 MBytes   755 Mbits&#x2F;sec    0    663 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">[  4]  29.00-30.00  sec  93.1 MBytes   781 Mbits&#x2F;sec    0    663 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - -</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">[ ID] Interval           Transfer     Bandwidth       Retr</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">[  4]   0.00-30.00  sec  2.64 GBytes   756 Mbits&#x2F;sec  255             sender</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">[  4]   0.00-30.00  sec  2.64 GBytes   756 Mbits&#x2F;sec                  receiver</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">iperf Done.</span></pre></td></tr></table></figure>

<p>평균 756Mbps 정도의 대역폭 </p>
<ol start="2">
<li>docker에서 overlay 모드로 만들었을 때의 노드끼리 대역폭 테스트</li>
</ol>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">[ec2-user@ip-10-0-0-31 ~]$ docker exec -it 89c08bbec6d7 sh</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"># iperf3 -c 192.168.0.155 -t 30</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">Connecting to host 192.168.0.155, port 5201</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">[  4] local 192.168.0.154 port 47676 connected to 192.168.0.155 port 5201</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">[  4]   0.00-1.00   sec  92.0 MBytes   771 Mbits&#x2F;sec    0   1.51 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">[  4]   1.00-2.00   sec  85.0 MBytes   713 Mbits&#x2F;sec    0   1.51 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">[  4]   2.00-3.00   sec  86.4 MBytes   725 Mbits&#x2F;sec    0   1.51 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">[  4]   3.00-4.00   sec  85.3 MBytes   716 Mbits&#x2F;sec    0   1.59 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">[  4]   4.00-5.00   sec  84.7 MBytes   710 Mbits&#x2F;sec    0   1.59 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">[  4]   5.00-6.00   sec  87.5 MBytes   734 Mbits&#x2F;sec    0   1.59 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">[  4]   6.00-7.00   sec  87.8 MBytes   737 Mbits&#x2F;sec    0   1.59 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">[  4]   7.00-8.00   sec  87.6 MBytes   735 Mbits&#x2F;sec    0   1.59 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">[  4]   8.00-9.00   sec  85.5 MBytes   717 Mbits&#x2F;sec    0   1.59 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">[  4]   9.00-10.00  sec  79.2 MBytes   665 Mbits&#x2F;sec  250    631 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">[  4]  10.00-11.00  sec  75.5 MBytes   633 Mbits&#x2F;sec    0    714 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">[  4]  11.00-12.00  sec  81.4 MBytes   683 Mbits&#x2F;sec    0    795 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">[  4]  12.00-13.00  sec  86.2 MBytes   723 Mbits&#x2F;sec    0    871 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">[  4]  13.00-14.00  sec  86.2 MBytes   723 Mbits&#x2F;sec    0    943 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">[  4]  14.00-15.00  sec  83.5 MBytes   700 Mbits&#x2F;sec    0   1008 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">[  4]  15.00-16.00  sec  83.9 MBytes   704 Mbits&#x2F;sec    0   1.04 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">[  4]  16.00-17.00  sec  85.6 MBytes   718 Mbits&#x2F;sec    0   1.10 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">[  4]  17.00-18.00  sec  88.8 MBytes   744 Mbits&#x2F;sec    0   1.16 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">[  4]  18.00-19.00  sec  88.1 MBytes   739 Mbits&#x2F;sec    0   1.21 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">[  4]  19.00-20.00  sec  87.9 MBytes   738 Mbits&#x2F;sec    0   1.26 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">[  4]  20.00-21.00  sec  83.3 MBytes   699 Mbits&#x2F;sec    0   1.31 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">[  4]  21.00-22.00  sec  84.5 MBytes   709 Mbits&#x2F;sec    0   1.35 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">[  4]  22.00-23.00  sec  85.1 MBytes   714 Mbits&#x2F;sec    0   1.39 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">[  4]  23.00-24.00  sec  87.8 MBytes   736 Mbits&#x2F;sec    0   1.44 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">[  4]  24.00-25.00  sec  90.0 MBytes   755 Mbits&#x2F;sec    0   1.48 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">[  4]  25.00-26.00  sec  86.1 MBytes   723 Mbits&#x2F;sec    0   1.51 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">[  4]  26.00-27.00  sec  83.2 MBytes   698 Mbits&#x2F;sec    0   1.51 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">[  4]  27.00-28.00  sec  81.5 MBytes   684 Mbits&#x2F;sec    0   1.51 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">[  4]  28.00-29.00  sec  84.9 MBytes   712 Mbits&#x2F;sec    0   1.51 MBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">[  4]  29.00-30.00  sec  84.1 MBytes   706 Mbits&#x2F;sec  214    595 KBytes       </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - -</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">[ ID] Interval           Transfer     Bandwidth       Retr</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">[  4]   0.00-30.00  sec  2.50 GBytes   715 Mbits&#x2F;sec  464             sender</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line">[  4]   0.00-30.00  sec  2.50 GBytes   715 Mbits&#x2F;sec                  receiver</span></pre></td></tr></table></figure>

<p>평균 715Mbps</p>
<p>약 95% 정도의 성능을 보인다. 더 테스트해봐야 알겠지만 이 정도면 진짜 아주 괜찮은 성능이 아닌가 싶다. </p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-07-20T15:00:00.000Z">2018-07-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/database-postgresql/">database postgresql</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 172 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/07/21/2018-07-21-postgre-sqls/">자주쓰는 postgresql 쿼리</a>
            
        </h1>
        <div class="content">
            <p><code>set search_path to abc_schema</code></p>
<p>: 스키마 설정. <br></p>
<p><code>describe table_a;</code> / <code>\d+ table_a</code></p>
<p>: describe 하면 해당 테이블에 관련된 인덱스 까지 다 나와서 좋다. <em>jdbc를 통한 클라이언트에서는 describe가 작동하지만 psql에서는 뒤의 명령어를 써야한다.</em> <br></p>
<p><code>drop index indexname;</code></p>
<p>: 인덱스를 날려버린다. <br></p>
<p><code>alter table postgre_c drop constraint postgre_c_pkey;</code></p>
<p>: Primary key는 drop index 명령어로 안날아가서 이렇게 날려야 한다. <br></p>
<p><code>ALTER TABLE distributors ADD PRIMARY KEY (dist_id);</code></p>
<p>: primary key 추가할땐 이렇게. <br></p>
<p><code>create index idx1 on table1 (column1)</code></p>
<p>: 인덱스 추가는 이렇게 <br></p>
<p><code>truncate table_a;</code></p>
<p>: 테이블을 날려버릴땐 이렇게. 자동으로 vacuum까지 된다. <br></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-07-17T15:00:00.000Z">2018-07-18</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Linux/">Linux</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 242 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/07/18/2018-07-18-linux-commands/">자주쓰는 리눅스 명령어</a>
            
        </h1>
        <div class="content">
            <p>이 포스트는 계속 업데이트 될 예정입니다. </p>
<p><code>ps -ef | grep python</code> </p>
<p>: 실행중인 프로세스 중 python을 포함한 프로세스를 보여준다 <br></p>
<p><code>ls -lh</code></p>
<p>: ls 명령어에 h 옵션을 붙이면 용량을 친절하게 표기해준다(mb, gb 등의 단위로 )<br></p>
<p><code>top</code></p>
<p>: 실행중인 프로세스 중에 리소스를 많이 사용하는 프로세스들을 보여준다. <br></p>
<p><code>sudo su</code></p>
<p>: 슈퍼유저로 전환 <br></p>
<p><code>df -h</code></p>
<p>: 디스크별로 사용량을 보여준다. 앞서 말한 것처럼 h 옵션을 붙여주면 사람이 알아보기 편하게 바꿔준다. <br></p>
<p><code>cat [파일이름]</code></p>
<p>: 간단하지만 정말 많이 씀 <br></p>
<p><code>tail -10 [파일이름]</code> /     <code>tail -10f [파일이름]</code></p>
<p>: 뒤에서 부터 읽을때 많이 씀 <br></p>
<p><code>rm -rf</code></p>
<p>: 앞뒤 생각없이 싹다 지울 때 -rf 옵션을 붙인다. <br></p>
<p><code>nohup</code></p>
<p>: 세션이 끊겨도 계속 지속되야하는 작업이 필요할때 쓴다. <br></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-07-12T15:00:00.000Z">2018-07-13</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/AWS-RDS/">AWS RDS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 938 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/07/13/2018-07-13-rds-multiaz-readreplica-summary/">RDS(MySQL, MariaDB) - Multi-AZ / Read Replica (읽기전용 복제본) 관련 정리</a>
            
        </h1>
        <div class="content">
            <p>AWS RDS에는 가용성과 확장성을 위해 multi-az 라는 기능과 read replica라는 기능을 지원한다. 비슷하지만 다른 특징들을 갖고 있어 간단하게 정리해 보았다. </p>
<h2 id="Multi-AZ"><a href="#Multi-AZ" class="headerlink" title="Multi-AZ"></a>Multi-AZ</h2><p><img src="/images/rds_ha1.jpg" alt="그림1"></p>
<ul>
<li>Active - Standby 구조 </li>
<li>자동 장애 복구 </li>
<li>동기식 복제 (Synchronous replication)</li>
</ul>
<p>위의 그림과 같이 원본 서버에 문제가 생기면 동기식으로 복제된 slave 인스턴스가 master로 자동으로 승격된다. 승격은 내부적으로 마스터를 바라보던 db instance의 도메인 엔드포인트가 slave를 가리킴으로써 구현된다. </p>
<h2 id="읽기-복제본"><a href="#읽기-복제본" class="headerlink" title="읽기 복제본"></a>읽기 복제본</h2><p><img src="/images/rds_readrepl.png" alt="그림2"></p>
<h3 id="생성과정"><a href="#생성과정" class="headerlink" title="생성과정"></a>생성과정</h3><ol>
<li>원본 스냅샷 생성</li>
<li>스냅샷을 통해 복제본 인스턴스 생성 </li>
<li>변경사항 발생 시 비동기식 복제 </li>
</ol>
<h3 id="기타-특징"><a href="#기타-특징" class="headerlink" title="기타 특징"></a>기타 특징</h3><p><em>읽기복제본은 multi-az에 비해 자잘한 기능들이 많다.</em></p>
<h4 id="순환복제-지원-X"><a href="#순환복제-지원-X" class="headerlink" title="순환복제 지원 X "></a><u>순환복제 지원 X </u></h4><p>a에서 복제본 b를 만들고 b에서 다시 a로 복제하는 것이 불가능하다. a에서 b라는 복제본을 만들면 b에서는 다시 새로운 복제본(b’, b’’ 등)을 만드는 것은 가능하다. </p>
<h4 id="체인식-복제-가능-단-체인당-4대까지"><a href="#체인식-복제-가능-단-체인당-4대까지" class="headerlink" title=" 체인식 복제 가능 (단 체인당 4대까지 )"></a><u> 체인식 복제 가능 (단 체인당 4대까지 )</u></h4><p>위에서 말했듯이 a에서 복제본 a’를 생성하고 a’에서 a’’를 생성하는 것이 가능하고 한 체인에 총 4대의 인스턴스까지 연결할 수 있다. 즉, a - a’ - a’’ - a’’’ 까지 가능하다는 말. </p>
<h4 id="mysql-binlog-mariadb-gtid"><a href="#mysql-binlog-mariadb-gtid" class="headerlink" title=" mysql - binlog mariadb - gtid "></a><u> mysql - binlog mariadb - gtid </u></h4><p>mysql은 복제시 원본에서 binarylog를 받아 복제본에다가 쓰는 작업을 통해 복제작업을 한다. 즉 복제본에서도 똑같이 쓰기 작업이 이루어져야 복제가 완료된다. mariadb는 gtid라는 방식을 사용한다고 한다. <em>gtid가 어떤 방식인지는 다음에 알아보는걸로…</em></p>
<h4 id="read-only-0-으로-설정시-인덱스-설정등-쓰기-작업-가능"><a href="#read-only-0-으로-설정시-인덱스-설정등-쓰기-작업-가능" class="headerlink" title=" read-only:0 으로 설정시 인덱스 설정등 쓰기 작업 가능 "></a><u> read-only:0 으로 설정시 인덱스 설정등 쓰기 작업 가능 </u></h4><p>읽기복제본이지만 쓰기가 아예 안되는 것은 아닌가 보다. 읽기 복제본의 읽기 성능 향상 등을 위해 read-only 기능을 끌 수 있게 되어있다. 이 기능을 껐을 때 쓰기가 어디까지 되는지는 테스트 해봐야 알것 같다. </p>
<h4 id="복제본-자체를-multi-az-로-이중화-구성-가능"><a href="#복제본-자체를-multi-az-로-이중화-구성-가능" class="headerlink" title="복제본 자체를 multi-az 로 이중화 구성 가능 "></a><u>복제본 자체를 multi-az 로 이중화 구성 가능 </u></h4><p>말 그대로, 복제본 또한 multi-az 기능으로 slave노드를 만들어서 이중화 구성이 가능</p>
<h4 id="외부에서-복제-외부로-복제-가능"><a href="#외부에서-복제-외부로-복제-가능" class="headerlink" title="외부에서 복제/ 외부로 복제 가능 "></a><u>외부에서 복제/ 외부로 복제 가능 </u></h4><p>온프레미스에 있는 db의 복제본을 rds에 올려 사용할 수 있고 반대로 rds에 있는 db를 온프레미스에 복제해서 사용할 수도 있다. 이중화 구성, DR 구성을 위한 옵션인 것 같다. 물론 부하 분산도 되고. </p>
<h4 id="Multi-AZ-vs-읽기-복제본"><a href="#Multi-AZ-vs-읽기-복제본" class="headerlink" title="Multi-AZ vs 읽기 복제본 "></a><u>Multi-AZ vs 읽기 복제본 </u></h4><p>AWS의 자료를 바탕으로 표로 정리해 보았다. </p>
<table>
<thead>
<tr>
<th>Multi-AZ</th>
<th>읽기 복제본</th>
</tr>
</thead>
<tbody><tr>
<td>동기식 복제</td>
<td>비동기식 복제</td>
</tr>
<tr>
<td>active-standby</td>
<td>읽기 부하 분산</td>
</tr>
<tr>
<td>secondary(standby)노드에서 복제 가능</td>
<td>기본값으로 백업 설정 x</td>
</tr>
<tr>
<td>최소 두개의 가용영역</td>
<td>단일리전/cross-AZ/cross-region 가능</td>
</tr>
<tr>
<td>업데이트 시 primary 에 적용</td>
<td>독립적으로 적용 가능</td>
</tr>
<tr>
<td>자동 장애 복구</td>
<td>장애 시 수동으로 승격</td>
</tr>
</tbody></table>
<p>동기식 복제/ 비동기식 복제 차이점은 <a href="https://cloudbasic.net/white-papers/synchronous-vs-asynchronous-replication/" target="_blank" rel="noopener">여기</a>를 참고 </p>
<p>참고자료</p>
<ul>
<li><a href="https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/USER_ReadRepl.html" target="_blank" rel="noopener">AWS RDS Documentation - 읽기복제본 작업</a></li>
<li><a href="https://www.slideshare.net/AmazonWebServices/dat302deep-dive-on-amazon-relational-database-service-rds?qid=5a05e0f6-fec2-4451-a0cd-e3769a0f0b7d&v=&b=&from_search=7" target="_blank" rel="noopener">Deep Dive on Amazon RDS</a></li>
</ul>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-07-10T15:00:00.000Z">2018-07-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/AWS-SAML/">AWS SAML</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 minutes read (About 1258 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/07/11/2018-07-11-rough-draft-of-saml/">SAML에 대한 매우 개략적인 정리</a>
            
        </h1>
        <div class="content">
            <h2 id="SAML-이란"><a href="#SAML-이란" class="headerlink" title="SAML 이란?"></a>SAML 이란?</h2><p><strong>Security Asserting Markup Language</strong></p>
<p>즉, <em>보안 인증에 관한 정보를 기술하는 마크업 언어</em> 정도로 생각하면 될 것 같다. 혹은 <strong>인증/인가 정보를 담은 XML</strong> 정도로 간단하게 생각하면 될 것 같다. </p>
<h2 id="그렇다면-SAML은-어디에-쓰이는가"><a href="#그렇다면-SAML은-어디에-쓰이는가" class="headerlink" title="그렇다면 SAML은 어디에 쓰이는가?"></a>그렇다면 SAML은 어디에 쓰이는가?</h2><p><strong>SSO(Single Sign-On)을 구현하기 위해 쓰인다.</strong> SSO는 한 번의 로그인으로 여러개의 다른 도메인을 이용하려고 할때 필요한 기술이다. 예를 들어, 온프레미스에 이미 구축해 놓은 인증 시스템을 이용해서 AWS 리소스에 접근하려고 할때 AWS에 별도의 인증 시스템을 구축하지 않고 온프레미스의 인증을 그대로 쓰려고 할 때 사용한다. </p>
<h2 id="SAML을-통한-인증-프로세스"><a href="#SAML을-통한-인증-프로세스" class="headerlink" title="SAML을 통한 인증 프로세스"></a>SAML을 통한 인증 프로세스</h2><p>SAML 인증과정을 잘 설명한 블로그 글들이 있어 소개한다. </p>
<h4 id="간략하게-설명한-인증-과정"><a href="#간략하게-설명한-인증-과정" class="headerlink" title="간략하게 설명한 인증 과정"></a>간략하게 설명한 인증 과정</h4><p><strong>[과정1]</strong></p>
<p><img src="/images/saml_bcho1.png" alt="그림1-1"></p>
<ol>
<li>Browser에서 사이트 SpA로 접속한다.</li>
<li>사이트 SpA에는 로그인이 되어 있지 않기 때문에 (세션이 없어서). SpA에서는 SAML request를 만들어서, Browser에게로 redirect URL을 보낸다.</li>
<li>Browser는 redirect URL에 따라 IdP에 접속하고, Idp에서 login form을 넣고 log in을 한다. 이때, IdP와 Brower 사이에 HttpSession 또는 Cookie로 Login에 대한 정보를 기록한다. 그리고 다시 사이트 SpA로의 SAML response를 포함한 redirect URL을 browser로 전송한다.</li>
<li>Browser는 SAML reponse를 가지고 SpA로 접속하면, SpA에는 인증된 정보를 가지고 로그인 처리를 한다. ※ 이 과정에서는 바로 사이트 SpA의 사용자 페이지(예를 들어 /home)등으로 가는 것이 아니라, SAML에 의해서 미리 정의한 SpA의 SAML response 처리 URL로 갔다가 SAML response를 처리가 끝나면 인증 처리를 한후, 사용자 페이지(/home)으로 다시 redirect한다.</li>
</ol>
<p><strong>[과정2]</strong></p>
<p><img src="/images/saml_bcho2.png" alt="그림1-2"></p>
<ol>
<li>사이트 SpA에서 로그인된 상태에서 SpB에 접속한다.</li>
<li>사이트 SpB는 로그인이 되어 있지 않기 때문에, SAML 메시지를 만들어서 IdP의 login from으로 redirect URL을 보낸다.</li>
<li>브라우져는 redirect URL을 따라서 IdP에 접속을 한다. IdP에 접속을 하면 앞의 과정에서 이미 Session 또는 Cookie가 만들어져 있기 때문에 별도의 로그인 폼을 띄위지 않고, SAML response message와 함께, SpB로의 redirect URL을 전송한다. </li>
<li>Browser는 Sp B에 인증된 정보를 가지고 로그인한다.</li>
</ol>
<p>(출처: <a href="http://bcho.tistory.com/755?category=481504" target="_blank" rel="noopener">http://bcho.tistory.com/755?category=481504</a> [조대협의 블로그])<br><br><br></p>
<h4 id="조금-더-디테일한-버전은-다음과-같다"><a href="#조금-더-디테일한-버전은-다음과-같다" class="headerlink" title="조금 더 디테일한 버전은 다음과 같다."></a>조금 더 디테일한 버전은 다음과 같다.</h4><p><img src="/images/saml_google.gif" alt="그림2"></p>
<ol>
<li>유저는 서비스 제공자(Service Provider)에게 접근한다. (서비스 이용을 위하여)</li>
<li>서비스 제공자는 SAMLRequest를 생성한다. 생성된 SAMLRequest은 XML format의 텍스트로 구성된다.</li>
<li>유저의 브라우저를 이용하여 인증 제공자(Identity Provider)로 Redirect 한다.</li>
<li>인증 제공자(Identity Provider)는 SAMLRequest를 파싱하고 유저인증을 진행한다.</li>
<li>인증제공자(Identity Provider)는 SAML Response를 생성한다.</li>
<li>인증제공자(Identity Provider)는 유저 브라우저를 이용하여 SAMLResponse data를 ACS로 전달한다.</li>
<li>ACS는 Service Provider가 운영하게 되는데 SAMLResponse를 확인하고 실제 서비스 사이트로 유저를 Forwarding한다.</li>
<li>유저는 로그인에 성공하고 서비스를 제공받는다.</li>
</ol>
<p>(출처: <a href="http://civan.tistory.com/177" target="_blank" rel="noopener">http://civan.tistory.com/177</a> [행복만땅 개발자])<br><br><br></p>
<h4 id="AWS와-연동은-아래-그림과-같은-과정으로-구현된다"><a href="#AWS와-연동은-아래-그림과-같은-과정으로-구현된다" class="headerlink" title="AWS와 연동은 아래 그림과 같은 과정으로 구현된다."></a>AWS와 연동은 아래 그림과 같은 과정으로 구현된다.</h4><p><img src="/images/saml-based-federation.diagram.png" alt="그림3"></p>
<ol>
<li>조직 내 사용자가 클라이언트 앱을 사용해 조직의 IdP로부터 인증을 요청합니다.</li>
<li>IdP가 조직의 자격 증명 스토어를 이용하여 사용자를 인증합니다.</li>
<li>IdP가 사용자에 대한 정보로 SAML 어설션을 만들어 클라이언트 앱으로 보냅니다.</li>
<li>클라이언트 앱이 AWS STS AssumeRoleWithSAML API를 호출하면서 SAML 공급자의 ARN, 수임할 역할의 ARN, IdP로부터 받은 SAML 어설션을 전달합니다.</li>
<li>클라이언트 앱에 대한 API 응답에는 임시 보안 자격 증명이 포함되어 있습니다.</li>
<li>클라이언트 앱은 임시 보안 자격 증명을 사용해 Amazon S3 API 작업을 호출합니다.</li>
</ol>
<p>(출처: <a href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_roles_providers_saml.html" target="_blank" rel="noopener">https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_roles_providers_saml.html</a>)</p>
<p>saml이란 무엇인지 알기위해 매우 간략하고 기초적인 내용만 정리해봤다. 더 자세한 내용은 위에서 참조한 블로그에 자세히 나와있다. 특히 <a href="http://civan.tistory.com/177" target="_blank" rel="noopener">“행복만땅 개발자” 블로그에 올라온 포스트</a>에서는 실습까지 해볼 수 있다. </p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/">Previous</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/3/">Next</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/">1</a></li>
            
            <li><a class="pagination-link is-current" href="/page/2/">2</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/3/">3</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Your name">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Your name
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Your title
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            22
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            19
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            0
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                Follow</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/ppoffice">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/ppoffice" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/AWS-Athena-Cloudfront/">
            <span class="level-start">
                <span class="level-item">AWS Athena Cloudfront</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/AWS-Athena-Zeppelin/">
            <span class="level-start">
                <span class="level-item">AWS Athena Zeppelin</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/AWS-EC2-T3/">
            <span class="level-start">
                <span class="level-item">AWS EC2 T3</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/AWS-EC2-Windows/">
            <span class="level-start">
                <span class="level-item">AWS EC2 Windows</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/AWS-Elasticsearch/">
            <span class="level-start">
                <span class="level-item">AWS Elasticsearch</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/AWS-Lambda-SQS/">
            <span class="level-start">
                <span class="level-item">AWS Lambda SQS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/AWS-Lightsail/">
            <span class="level-start">
                <span class="level-item">AWS Lightsail</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/AWS-RDS/">
            <span class="level-start">
                <span class="level-item">AWS RDS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/AWS-RDS-mysql/">
            <span class="level-start">
                <span class="level-item">AWS RDS mysql</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/AWS-SAML/">
            <span class="level-start">
                <span class="level-item">AWS SAML</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Bigdata-AWS-EMR/">
            <span class="level-start">
                <span class="level-item">Bigdata AWS EMR</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Linux/">
            <span class="level-start">
                <span class="level-item">Linux</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/activedirectory-dns-aws/">
            <span class="level-start">
                <span class="level-item">activedirectory dns aws</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/database-postgresql/">
            <span class="level-start">
                <span class="level-item">database postgresql</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/docker-network-multihost/">
            <span class="level-start">
                <span class="level-item">docker network multihost</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/jekyll-github/">
            <span class="level-start">
                <span class="level-item">jekyll github</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/jekyll-theme-swiss/">
            <span class="level-start">
                <span class="level-item">jekyll theme swiss</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/python-bigdata/">
            <span class="level-start">
                <span class="level-item">python bigdata</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/reviewrepublic-migragtion/">
            <span class="level-start">
                <span class="level-item">reviewrepublic migragtion</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/12/04/hello-world/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Hello World">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-04T00:59:11.881Z">2019-12-04</time></div>
                    <a href="/2019/12/04/hello-world/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Hello World</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/04/2019-11-04-lambda-with-sqs/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Lambda의 동시성에 대하여 - 1">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-03T15:00:00.000Z">2019-11-04</time></div>
                    <a href="/2019/11/04/2019-11-04-lambda-with-sqs/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Lambda의 동시성에 대하여 - 1</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/AWS-Lambda-SQS/">AWS Lambda SQS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/29/2019-06-29-EMR-Athena-Zepplin/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="EMR 에 올라간 Zeppelin 활용하여 Athena 이용하기. ">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-28T15:00:00.000Z">2019-06-29</time></div>
                    <a href="/2019/06/29/2019-06-29-EMR-Athena-Zepplin/" class="title has-link-black-ter is-size-6 has-text-weight-normal">EMR 에 올라간 Zeppelin 활용하여 Athena 이용하기. </a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Bigdata-AWS-EMR/">Bigdata AWS EMR</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/07/2019-06-20-amazon-elasticsearch-dedicated-master-free-storage/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Amazon Elasticsearch Dedicated Master의 스토리지 비용은?">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-06T15:00:00.000Z">2019-06-07</time></div>
                    <a href="/2019/06/07/2019-06-20-amazon-elasticsearch-dedicated-master-free-storage/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Amazon Elasticsearch Dedicated Master의 스토리지 비용은?</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/AWS-Elasticsearch/">AWS Elasticsearch</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/07/2019-06-07-athena-cf-log-analysis/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="AWS Athena, CF Log 분석을 위한 쿼리 예시">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-06T15:00:00.000Z">2019-06-07</time></div>
                    <a href="/2019/06/07/2019-06-07-athena-cf-log-analysis/" class="title has-link-black-ter is-size-6 has-text-weight-normal">AWS Athena, CF Log 분석을 위한 쿼리 예시</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/AWS-Athena-Cloudfront/">AWS Athena Cloudfront</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">December 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">June 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">May 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">March 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">September 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/12/04/hello-world/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Hello World">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-04T00:59:11.881Z">2019-12-04</time></div>
                    <a href="/2019/12/04/hello-world/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Hello World</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/04/2019-11-04-lambda-with-sqs/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Lambda의 동시성에 대하여 - 1">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-03T15:00:00.000Z">2019-11-04</time></div>
                    <a href="/2019/11/04/2019-11-04-lambda-with-sqs/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Lambda의 동시성에 대하여 - 1</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/AWS-Lambda-SQS/">AWS Lambda SQS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/29/2019-06-29-EMR-Athena-Zepplin/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="EMR 에 올라간 Zeppelin 활용하여 Athena 이용하기. ">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-28T15:00:00.000Z">2019-06-29</time></div>
                    <a href="/2019/06/29/2019-06-29-EMR-Athena-Zepplin/" class="title has-link-black-ter is-size-6 has-text-weight-normal">EMR 에 올라간 Zeppelin 활용하여 Athena 이용하기. </a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Bigdata-AWS-EMR/">Bigdata AWS EMR</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/07/2019-06-20-amazon-elasticsearch-dedicated-master-free-storage/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Amazon Elasticsearch Dedicated Master의 스토리지 비용은?">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-06T15:00:00.000Z">2019-06-07</time></div>
                    <a href="/2019/06/07/2019-06-20-amazon-elasticsearch-dedicated-master-free-storage/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Amazon Elasticsearch Dedicated Master의 스토리지 비용은?</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/AWS-Elasticsearch/">AWS Elasticsearch</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/07/2019-06-07-athena-cf-log-analysis/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="AWS Athena, CF Log 분석을 위한 쿼리 예시">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-06T15:00:00.000Z">2019-06-07</time></div>
                    <a href="/2019/06/07/2019-06-07-athena-cf-log-analysis/" class="title has-link-black-ter is-size-6 has-text-weight-normal">AWS Athena, CF Log 분석을 위한 쿼리 예시</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/AWS-Athena-Cloudfront/">AWS Athena Cloudfront</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">December 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">June 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">May 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">March 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">September 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Boomkim" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 boomkim&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
<script src="/js/animation.js"></script>

    
    
<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>

    
    
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" target="_blank" rel="noopener">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>

    
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>
    
    
<a id="back-to-top" title="Back to Top" href="javascript:;" target="_blank" rel="noopener">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>

    
    
    
    
    
    
    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>